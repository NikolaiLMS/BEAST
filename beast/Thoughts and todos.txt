
  When running a test with empty properties, an exception gets thrown which doesnt get caught of type 
  org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 67;
  The markup in the document following the root element must be well-formed.
  
  this happens in CBMCResult.parseResult() line: 148	
  this is the xml:
    final InputStream xmlStream =
                IOUtils.toInputStream(
                        String.join(
                                "",
                                super.getResult().subList(offset, super.getResult().size())
                                ),
                        charSet
                        );
  
 Im guessing its missing a beginning <message type=""> tag
 and a <cprover> beginning tag
 
 
<message type="STATUS-MESSAGE">
<text>CBMC version 5.10 (cbmc-5.10) 32-bit i386 windows</text>
</message>
<message type="STATUS-MESSAGE">
	<text>Parsing D:\code\eclipse-workspace\BEAST\BEAST\beast\core\generated_c_files\6os8ocepn1j3qnr60u0t.c</text>
</message>
<message type="ERROR">
	<text>Der Befehl "CL" ist entweder falsch geschrieben oder</text>
</message>
<message type="ERROR">
	<text>konnte nicht gefunden werden.</text>
</message>
<message type="ERROR">
	<text>CL Preprocessing failed</text>
</message>
<message type="ERROR">
	<text>PARSING ERROR</text>
</message>
<message type="ERROR">
	<text>Numeric exception : 0</text>
</message>

</cprover>

i think this is the complete msg
D:\code\eclipse-workspace\BEAST\BEAST\beast>"
D:\code\eclipse-workspace\BEAST\BEAST\beast\windows\VsDevCmd.bat"  
 & "D:\code\eclipse-workspace\BEAST\BEAST\beast\windows\cbmcWIN\cbmc.exe"
 "-ID:\code\eclipse-workspace\BEAST\BEAST\beast/core/user_includes/" 
 "D:\code\eclipse-workspace\BEAST\BEAST\beast\core\generated_c_files\cl95jo6mcqnnj65fucuu.c"
  D:\code\eclipse-workspace\BEAST\BEAST\beast\core\user_includes\foo.c --trace --xml-ui  --xml-ui -D V=1 -D C=1 -D S=1 --unwindset voteSumForCandidate.0:1 --unwindset voteSumForCandidate.1:1 --unwindset voteSumForCandidate.2:1 --unwindset voteSumForCandidateUnique.0:1 --unwindset voteSumForCandidateUnique.1:1 --unwindset voteSumForCandidateUnique.3:1 --unwindset getRandomSplitLines.0:1 --unwindset getRandomSplitLines.1:1 --unwindset concatTwo.3:1 --unwindset concatTwo.5:1 --unwindset permutateTwo.2:1 --unwindset permutateTwo.4:1 --unwindset voting.0:1 D:\code\eclipse-workspace\BEAST\BEAST\beast>call "C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\Tools\VsDevCmd.bat"" 
  
  <?xml version="1.0" encoding="UTF-8"?>
  <cprover>
  <program>CBMC 5.10 (cbmc-5.10)</program>
  <message type="STATUS-MESSAGE">  <<---------above one starts here (offset = 8)
  <text>CBMC version 5.10 (cbmc-5.10) 32-bit i386 windows</text></message>
  <message type="STATUS-MESSAGE">  
  <text>Parsing D:\code\eclipse-workspace\BEAST\BEAST\beast\core\generated_c_files\cl95jo6mcqnnj65fucuu.c</text>
  </message>
  <message type="ERROR">  
  <text>Der Befehl "CL" ist entweder falsch geschrieben oder</text>
  </message>
  <message type="ERROR">  <text>konnte nicht gefunden werden.</text>
  </message>
  <message type="ERROR">  <text>CL Preprocessing failed</text>
  </message>
  <message type="ERROR">  <text>PARSING ERROR</text>
  </message>
  <message type="ERROR">  <text>Numeric exception : 0</text>
  </message>
  </cprover>
  
  for some reason sublist starts to late
  
  /** The Constant WIN_OFFSET. */
    private static final int WIN_OFFSET = 8;
  im guessing its not so constant after all...maybe bcus it doesnt find cl?
  
  Im guessing instead of using the offset we could just try and find the first <?xml tag? Id need to know about
  the linux output maybe
  
  So I implemented that and it works. Now theres an issue because theres no preconditions. Im guessing there
  are no sanity checks on the input whatsoever?
  
  Yeah, if I just open an empty project and click start it throws Exceptions on Exceptions :D fun fun fun
  
  This happens here         
  
  edu.pse.beast.datatypes.electiondescription.ElectionDescription.getComplexCode
  String middlePart = code.substring(lockedLineEnd, lockedBracePos);
  
  Im guessing the variable code doesnt get set when the class first gets created? Anyways, ill have to check
  that later. Also, im pretty sure we used to check the c code for errors by running it through a compiler...?
  
  Ok leave that aside for now, when I open a project with preconditions and everything it throws an exception
  Exception in thread "CheckerFactory Property 2" java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0
	at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)
	at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)
	at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)
	at java.base/java.util.Objects.checkIndex(Objects.java:372)
	at java.base/java.util.ArrayList.get(ArrayList.java:459)
	at edu.pse.beast/edu.pse.beast.propertychecker.CheckerFactory.runTest(CheckerFactory.java:434)
	at edu.pse.beast/edu.pse.beast.propertychecker.CheckerFactory.run(CheckerFactory.java:146)
	at java.base/java.lang.Thread.run(Thread.java:834)
  
  im guessing its here                                 
  res.readVariableValue(ELECT_DEC).get(0)
  
  why do i feel like this whole parsing the results thing needs a complete refactor
  
  in the parameter menu it doesnt show the solver. Maybe it doesnt even load cmbc to begin with..??? 
  
  Lets see what the prog does at startup
  
  uses Application.launch wat this
  
  its javafx stuff:
  
   The entry point for JavaFX applications is the Application class. The JavaFX runtime does the following, in order, whenever an application is launched:

    Constructs an instance of the specified Application class
    Calls the init() method
    Calls the start(javafx.stage.Stage) method
    Waits for the application to finish, which happens when either of the following occur:
        the application calls Platform.exit()
        the last window has been closed and the implicitExit attribute on Platform is true
    Calls the stop() method
  
  ohyeah, it implements application which overrides start
  
  theres a giant class called guicontroller
  
  the fxml schema             "/src/main/resources/edu/pse/beast/highlevel/javafx/BEAST.fxml";
  
  alright, i wanna start a test. Press the button. what do?
  
  addKeyPressedEventHandler gets set after building the scene, im guessing it simply sets shortcuts
  
  These comments dude :D :D :D
   /** The running. */
    @FXML
    private boolean running;
    
    ok so if we press the button it starts the function "#startStopPressed"
    
     @FXML
    public synchronized void startStopPressed(final ActionEvent event) {
    
    which calls BEASTCommunicator.startCheckNEW
    
    again, this javadoc is incredible
    
       * Start check NEW.
     *
     * @return true, if successful
     */
    public static synchronized boolean startCheckNEW() {
  
  checks for props which is good         if (!hasProperties(properties)) {
  
  then it checks for errors in     public static boolean checkForErrors(final ElectionDescription description,...
  and throws an exception. ezzgetit
  
  therefore it needs getComplexCode
  
  which throws right here         String middlePart = code.substring(lockedLineEnd, lockedBracePos);
  
  because code hasnt been set
  
  SOMETHING is wrong w the debugging man
  
  where does ElectionDescription get created....
  
  OKAY so here
  
  NewCodeArea.setNewElectionDescription the initial string gets created but not set in electiondescription.
  
  so it should prob b happening inside the election descr, but for now well just put it in this method to set the code in electionDescription
  
	newDescription.setCode(this.getText());
	
	alright, that fixed that bug
	
aaaaaaanyways, time to see where the cbmc checker is SUPPOSED to be set up cuz i dont think it is

basically i wanna know: where do we start cbmc and how

ok so theres an error when calling cbmc, it even gets returned from the call to CBMCResult.parseResult

so the waitForResultsThread should prob check for errors also?

has this error 
<?xml version="1.0" encoding="UTF-8"?>
<cprover>
	<program>CBMC 5.17.0 (cbmc-5.17.0)</program>
	<message type="STATUS-MESSAGE">
		<text>CBMC version 5.17.0 (cbmc-5.17.0) 64-bit x86_64 windows</text>
	</message>
	<message type="STATUS-MESSAGE">
		<text>Parsing
			D:\code\eclipse-workspace\BEAST\BEAST\beast\core\generated_c_files\29e691bb93ubplu9qc67.c</text>
	</message>
	<message type="ERROR">
		<text>CL Preprocessing failed</text>
	</message>
	<message type="ERROR">
		<text>PARSING ERROR</text>
	</message>
</cprover>

but i dont see it anywhere. So where does it get processed?

its WindowsProcess extends CBMCProcess??
lol it ays cmbc istead of cbmc. 


alright so it wants to call VsDevCommand which need to be in call "C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\Tools\VsDevCmd.bat""

which...it isnt...

so either ask the user where vs is and than try and find it and save the path in user settings somewhere
ok so it calls the generated .bat file, thats the output that gets parsed.

D:\code\eclipse-workspace\BEAST\BEAST\beast\core\generated_c_files>call "C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\Tools\VsDevCmd.bat""
Das System kann den angegebenen Pfad nicht finden.
<?xml version="1.0" encoding="UTF-8"?>

there we go

ok so first we need to change that somehow. like see where it gets the path from currently and hook into that

WindowsOStoolbox

Fehler auf GUI anzeigen

GUIController gets init through fxml, then starts all the other objects and basically gets used by the communicator. This
should prob b the other way round lol

So i wanna long term make it so you have a client server type thing w beast being the server and the gui being the client. maybe some msgs back
and forth so we can get stuff like how much longer does it take etc.

Still, where does cbmc  get set up homes???

Aight got it

so weve got a mess of factories and factory factories. Basically we get a cbmc factory by calling something with a string "cbmc"
CBMCProcessFactory

btw the CBMCPRocessFactory determines the OS. This should prob happen in the ostoolbox lol

factoryfactoy adds it here private static Map<String, CheckerFactory> searchForCheckers() {

and u get it here     
public static PropertyChecker createPropertyChecker(final String checkerID) {
        if (factories.keySet().contains(checkerID)) {
            return new PropertyChecker(checkerID);
        } else {
            ErrorLogger.log(ERROR_MSG);
            return null;
        }
    }
    
Java programs dude :D

WindowsProcess starts the final test

ok so get this. Everytime it runs a test it tries to find vscmd. which is just in the beast/windows folder. VSCmd in there is just a file with a 
hardcoded path where it expects the "real" vsCmd. tf.

So yeah, def change it so the user gets asked at startup if it isnt there. Then save it to settings somewhere.